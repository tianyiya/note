# 一、广播

对局域网里的所有主机发送消息

网络设备天然具备广播功能，IP协议虽然能广播，但是不能与进程关联


TCP需建立连接，无法一对多通讯，所以通常使用UDP进行广播

广播是需要设置mac地址为ff:ff:ff:ff:ff，但进程无法控制底层mac地址，所以通过设置广播IP（全1）实现广播

设置socket句柄为SO_BROADCAST

## 报文丢弃时机

1. 网卡检查mac是否匹配
2. IP协议栈查看IP是否匹配
3. 传输层检查目标端口是否匹配

# 二、组播

需要支持对网络内部分主机的一对多通讯

使用广播的方式会占用不需要接受消息的主机的资源

设置虚拟组，用组播IP标识

通过IGMP协议将主机添加到虚拟组中







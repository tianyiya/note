# 使用长轮询的原因

推模式可能会丢数据

推模式需要维护在线列表

长轮询更简单

对于维护在线列表，主要是为了获取用户所在的直播间，如果用户不在直播间，那么就不用推送了。也及时，需要维护订阅列表，知道该给谁推。

缺点：

1. 夯住请求的开销及后台轮询数据的开销
2. 当一直有新消息时，无法控制请求量
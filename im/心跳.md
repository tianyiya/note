## 智能心跳

所谓智能心跳，就是根据网络环境调整心跳间隔，或者根据NAT超时调整心跳间隔。

不过，当前时代，智能好像也不太重要。

根据网络环境，有线环境把频率设置为10s，wifi环境下这个频率设计为30s，在3G或者4G环境下设置为1.5分钟，在2G环境下设置为4分钟。
总之其原则是：网络环境越差劲，心跳时间间隔越长。


类似于二分的算法，寻找链路的NAT超时时间。

服务端可智能的根据客户端的历史心跳间隔，预测出下一个心跳超时，比如使用拉格朗日插值法，并由心跳响应包返回给客户端。

## 服务端对心跳的处理

设置在线状态及路由

